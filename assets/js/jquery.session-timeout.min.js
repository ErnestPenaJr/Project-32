!function (e) {
    "use strict";
    e.sessionTimeout = function (t) {
        function n() {
            f || (e.ajax({type: d.ajaxType, url: d.keepAliveUrl, data: d.ajaxData}), f =! 0, setTimeout(function () {
                f = !1
            }, d.keepAliveInterval))
        }
        function i() {
            clearTimeout(a),
            (d.countdownMessage || d.countdownBar) && o()
        }
        function s() {
            if (a = setTimeout(function () {
                window.location = d.redirUrl
            }, d.redirAfter), d.countdownMessage || d.countdownBar) {
                var e = Math.floor(d.redirAfter / 1e3);
                l(e)
            }
        }
        "function" != typeof e.fn.modal && (e.fn.modal = function () {
            return this
        }),
        d = e.extend({
            title: "Your Session is About to Expire!",
            message: "Your session is about to expire.",
            logoutButton: "Logout",
            keepAliveButton: "Stay Connected",
            keepAliveUrl: "/keep-alive",
            ajaxType: "POST",
            ajaxData: "",
            redirUrl: "/timed-out",
            logoutUrl: "../logout.html",
            warnAfter: 9e5,
            redirAfter: 12e5,
            keepAliveInterval: 5e3,
            keepAlive: !0,
            ignoreUserActivity: !1,
            onStart: !1,
            onWarn: !1,
            onRedir: !1,
            countdownMessage: !1,
            countdownBar: !1
        }, t),
        d.countdownMessage && (d.countdownBar =! 1);
        var o = function () {
                e(".countdown-holder").remove()
            },
            l = function (t) {
                d.countdownMessage && e(".countdown-message").text(t + " second" + (
                1 !== t ? "s" : ""
            ) + " remaining."),
                d.countdownBar && e(".countdown-bar").css("width", 100 * t / r + "%")
            },
            r = Math.floor(d.redirAfter / 1e3),
            a = !1,
            u = !1,
            f = !1;
        d.onStart && d.onStart(d),
        d.keepAlive && (f =! 1, n()),
        e(document).on("keypress mousedown mousemove scroll touchend touchmove", function () {
            if (! u && !d.ignoreUserActivity) 
                return i(),
                void(d.onWarn && d.onWarn(d));
            


            u || d.ignoreUserActivity || (i(), s())
        }),
        d.warnAfter >= 0 && setTimeout(function () {
            u = !0,
            d.onWarn && d.onWarn(d),
            s()
        }, d.warnAfter)
    }
}(jQuery);
